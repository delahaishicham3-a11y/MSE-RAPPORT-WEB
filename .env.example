# =====================================================
# CONFIGURATION GÉNÉRALE - MSE RAPPORT WEB 3
# =====================================================

APP_NAME=MSE_RAPPORT_WEB_3
APP_ENV=production        # valeurs possibles: local | staging | production
APP_DEBUG=false           # true = logs détaillés (⚠️ à désactiver en prod)
APP_URL=https://mse-rapport-web-3.onrender.com

# Clé d'application — génère une clé base64 avec: php -r "echo base64_encode(random_bytes(32));"
APP_KEY=base64:REMPLACE_PAR_TA_CLE_GENEREE

# =====================================================
# BASE DE DONNÉES - PostgreSQL (Render)
# =====================================================

# ✅ URL unique fournie par Render / Railway / Heroku
DATABASE_URL=postgresql://mse_database_1_user:47Bjsqfh3hHBVr43uZyDDrtq90Xy79Vp@dpg-d4398kuuk2gs738rt8bg-a.frankfurt-postgres.render.com/mse_database_1

# --- Fallback manuel (utile en local ou sans DATABASE_URL)
DB_CONNECTION=pgsql
DB_HOST=dpg-d4398kuuk2gs738rt8bg-a.frankfurt-postgres.render.com
DB_PORT=5432
DB_DATABASE=mse_database_1
DB_USERNAME=mse_database_1_user
DB_PASSWORD=47Bjsqfh3hHBVr43uZyDDrtq90Xy79Vp
DB_SSLMODE=require         # prefer | require | disable

# =====================================================
# EMAILS - SMTP (Gmail ou autre fournisseur)
# =====================================================

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=mserapport@gmail.com
# ⚠️ Conseil: ne pas mettre le mot de passe Gmail ici directement.
# Utilise un "App Password" sécurisé et stocke-le dans Render Secrets.
SMTP_PASS=Hicham95!!
MAIL_FROM=mserapport@gmail.com
MAIL_FROM_NAME="MSE Rapport Web 3"

# =====================================================
# SESSIONS ET STOCKAGE
# =====================================================

SESSION_DRIVER=file
SESSION_SAVE_PATH=/tmp/sessions
SESSION_LIFETIME=120   # durée en minutes

# =====================================================
# PDF ET RAPPORTS
# =====================================================

PDF_STORAGE_PATH=/var/www/html/storage/pdfs
REPORT_STORAGE_PATH=/var/www/html/storage/reports

# =====================================================
# LOGS ET FUSEAU HORAIRE
# =====================================================

LOG_CHANNEL=stack
TIMEZONE=Europe/Paris

# =====================================================
